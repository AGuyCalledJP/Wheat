#Backend
<FunctionPlotter>:
    id: functionplotter
    function: func_plot
    keyboard: key
    # canvas.before:
    #     Color:
    #         rgba: 1, 1, 1, 1.
    #     Rectangle:
    #         pos: self.pos
    #         size: self.size

    FloatLayout:
        id: header
        pos_hint: {'x' : 0, 'y' : .9}
        size_hint: 1, 0.1
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
            id: move
            pos_hint: {'x': .7,'y': 0}
            size_hint: .3,1
            text: 'Move'
            on_press: functionplotter.flip()

    FloatLayout:
        id: total
        pos_hint: {'x' : 0, 'y': 0}
        size_hint: 1, 0.9

        BoxLayout:
            orientation: 'horizontal'
            pos_hint: {'x' : 0, 'y': 0}
            size_hint: 1,1

            Function:
                pos_hint: {'x': 0,'y': 0}
                size_hint: 1,1
                id: func_plot
                canvas.before:
                    Rectangle:
                        pos: self.pos
                        size: self.size

                Equation:
                    id: equation
                    pos_hint: {'x': 0.1, 'y': 0.07}
                    size_hint: 0.8,0.07
                    multiline: 'false'
                    text: root.equation_text

                BoxLayout:
                    orientation: 'vertical'
                    pos_hint: {'x': 0,'y': 0}
                    size_hint: 1,1

                    id: destination


            Keyboard:
                canvas.before:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                id: key
                cols: 5
                Button:
                    text: 'sqrt'
                    on_press: functionplotter.ClickedPi()
                Button:
                    text: 'sin'
                    on_press: functionplotter.ClickedSin()
                Button:
                    text: 'cos'
                    on_press: functionplotter.ClickedCos()
                Button:
                    text: 'tan'
                    on_press: functionplotter.ClickedTan()
                Button:
                    text: 'pi'
                    on_press: functionplotter.ClickedPi()

                Button:
                    text: '^'
                    on_press: functionplotter.ClickedExp()
                Button:
                    text: 'x^-1'
                    on_press: functionplotter.ClickedInv()
                Button:
                    text: '('
                    on_press: functionplotter.ClickedLeftP()
                Button:
                    text: ')'
                    on_press: functionplotter.ClickedRightP()
                Button:
                    text: '/'
                    on_press: functionplotter.ClickedDiv()

                Button:
                    text: '^2'
                    on_press: functionplotter.ClickedSquared()
                Button:
                    text: '7'
                    on_press: functionplotter.Clicked7()
                Button:
                    text: '8'
                    on_press: functionplotter.Clicked8()
                Button:
                    text: '9'
                    on_press: functionplotter.Clicked9()
                Button:
                    text: '*'
                    on_press: functionplotter.ClickedTimes()

                Button:
                    text: 'x'
                    on_press: functionplotter.Clickedx()
                Button:
                    text: '4'
                    on_press: functionplotter.Clicked4()
                Button:
                    text: '5'
                    on_press: functionplotter.Clicked5()
                Button:
                    text: '6'
                    on_press: functionplotter.Clicked6()
                Button:
                    text: '-'
                    on_press: functionplotter.ClickedMinus()

                Button:
                    text: '<-'
                    on_press: functionplotter.ClickedDel()
                Button:
                    text: '1'
                    on_press: functionplotter.Clicked1()
                Button:
                    text: '2'
                    on_press: functionplotter.Clicked2()
                Button:
                    text: '3'
                    on_press: functionplotter.Clicked3()
                Button:
                    text: '+'
                    on_press: functionplotter.ClickedPlus()

                Button:
                    text: 'Clear'
                    on_press: functionplotter.ClickedClear()
                Button:
                    text: '0'
                    on_press: functionplotter.Clicked0()
                Button:
                    text: '.'
                    on_press: functionplotter.ClickedPoint()
                Button:
                    text: '(-)'
                    on_press: functionplotter.ClickedNeg()
                Button:
                    text: 'Enter'
                    on_press: functionplotter.ClickedEnter()
